<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="concept _Skins_Side_Nav_2023_feb" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Expires" content="0" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" /><title>Upgrading Private Cloud to Version 5.x</title>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/ib_platform.css" rel="stylesheet" type="text/css" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" />
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-164223934-1">
        </script>
        <script>/* <![CDATA[ */
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'UA-164223934-1');
	/* ]]> */</script>
        <script src="../Resources/Scripts/dynamic-search.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" role="navigation" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-left is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div>
                        <nav class="title-bar tab-bar" role="banner" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Welcome.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="4" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div style=" text-align: right; color:white; font-size: 9pt; background:#001649 ; margin-bottom: 15px; padding: 4px 12px; ">Documentation Version 
			<select id="versionSelect"><option value="v6.7.1">6.7.1</option><option value="v6.7.0">6.7.0</option><option value="v6.6.1">6.6.1</option><option value="v6.6">6.6</option></select><script>/* <![CDATA[ */
				const select = document.querySelector('#versionSelect');
				select.addEventListener('change', function() {
				const selectedVersion = this.value;
				const currentUrl = window.location.href;
				const newUrl = currentUrl.replace(/\/v\d+(\.\d+(\.\d+)?)?\//, `/${selectedVersion}/`);
				window.location.href = newUrl;
				});
		/* ]]> */</script></div>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <div class="home-container">
                                        <div class="topic-body" role="main" id="mc-main-content">
                                            <h1 class="concepttitle">Upgrading Private Cloud to Version 5.x until 5.5</h1>
                                            <p>To migrate data from previous releases of Platform Private Cloud to the latest
			release, you need to run scripts to update your database sequentially. For example, to
			update from version 4.3 to version 5.0, you first need to run the script to upgrade to
			4.4, 4.5 and then to 5.0. Check the PDF documentation included with each version to
			determine whether to change code in formulas or external systems that access Platform
			data through the SOAP or REST APIs.</p>
                                            <p>The following steps describe how to upgrade Platform Private Cloud from a
			prior release to the latest release:</p>
                                            <ol>
                                                <li value="1">Make a copy of your existing Platform <code>config</code>,  <code>storage</code>  and
					<code>rollbase\personalize</code> folders.</li>
                                                <li value="2">Stop PAS or Tomcat.</li>
                                                <li value="3">If you have any custom files, such as FusionCharts, in the <span class="filepath">webapps</span> folder of your Tomcat instance, copy these to
				a folder for later use.</li>
                                                <li value="4">Stop the database.</li>
                                                <li value="5">If you installed using the Platform installer, run
							uninstall. You can launch it from the <span class="filepath"><span>Rollbase</span>\uninstall</span> folder. If you were using the
							OpenEdge database, uninstall will not delete the OpenEdge working
							directory, which contains your data.</li>
                                                <li value="6">If you used your own Tomcat instance, delete the following folders from
				the <span class="filepath">webapps</span> folder: <span class="filepath">master</span>, <span class="filepath">router</span>, <span class="filepath">prod1</span>, <span class="filepath">search</span>,
					<span class="filepath">storage</span>, <span class="filepath">rest</span>, <span class="filepath">webapi</span>, <span class="filepath">rss</span>, <span class="filepath">workflow</span></li>
                                                <li value="7">Install Platform 5.X using the installer or zip files: <ol><li value="1">If you use the installer, consult the configuration files
						you saved for host, database, and email configuration values. If you were
						using the OpenEdge Database, point the installer at the working directory
						that contains your data.</li><li value="2">If you use the zip files to install, configure Platform as
							follows:<ol><li value="1">From the <code>config</code>
								folder, open the <span class="filepath">node-config.json</span>.</li><li value="2">Edit the <span class="filepath">node-config.json</span> file
								with the shared properties information such as email information:
								host name and port number, and the email address and password for
								the main administrative user.</li><li value="3">In the <span class="filepath">node-config.json</span>, update
								the databases related information. See <a href="Editing_the_node-config.json_file.htm" class="MCXref xref">Editing the node-config.json file</a>.<div class="note"><b>Note: </b><ul><li>In Platform 5.x, in the <span class="filepath">config</span> folder, the following files will
											be available as per the new structure: <span class="filepath">cluster-config.xml</span>,<span class="filepath">master-cluster-config.xml</span>, <span class="filepath">node-config.json</span>,
												<span class="filepath">prod-cluster-config.xml</span>, <span class="filepath">jaas.conf</span> and <span class="filepath">meta-psc-rollbase-idp-test</span> .</li><li>While upgrading to Platform 5.4, ensure the cluster
											config XML files
												(<code>master-cluster-config.xml</code>,
												<code>prod-cluster-config.xml</code>, and
												<code>cluster-config.xml</code>) are modified by
											removing the below section from all the Tomcat machines.
												<pre>&lt;map name="rb-*-cache"&gt;
&lt;backup-count&gt;3&lt;/backup-count&gt;
&lt;/map&gt;</pre><p>Also,
												ensure the below <b>Set Parameter</b> section is
												removed from the
												<code>master-cluster-config.xml</code>.
												<pre>&lt;set name="rb-*-cache"&gt;
&lt;backup-count&gt;3&lt;/backup-count&gt;
&lt;/set&gt;</pre></p></li></ul></div></li></ol></li></ol></li>
                                                <li value="8">Copy all the files from the backed up config folder to
					<span class="filepath">&lt;ROLLBASE_HOME&gt;/config</span> folder. Do not copy paste the
				entire config folder.</li>
                                                <li value="9">Copy the <span class="filepath">storage</span> folder to the new storage server node.</li>
                                                <li value="10">If you saved any custom files from the <span class="filepath">webapps</span> folder as described in step 3, copy them into the new
				installation. For example, copy the <span class="filepath">personalize</span> folder.</li>
                                                <li value="11"> When upgrading from a previous version to 5.x, remove the following JAR files:<ul><li>encoder-1.2.jar</li><li>hazelcast-all-3.7.jar</li><li>pdfbox-2.0.2.jar</li><li>cos.jar</li><li>httpclient-4.5.jar</li><li>httpmime-4.3.jar </li></ul></li>
                                                <li value="12">In the <span class="filepath">Rollbase\sql</span> folder,
				find the appropriate script(s) to update your database. Note: If you installed the
<span>				Progress Application Server for Platform</span>, these files are in the <span class="filepath">Pas_Instance\Rollbase\sql</span> folder. <p>If you are upgrading from a version other than the previous release, you will
					need to use multiple scripts, starting with the next version higher than your
					existing installation and continuing until you reach the current
				script.</p></li>
                                                <li value="13">Open the sql script(s), and do the following: <ol><li value="1">Uncomment the section for your database
									type.</li><li value="2">Verify that the sections for other database
									types are commented out.</li><li value="3">Add the following commit statement to the end of
									the file: <code>COMMIT WORK</code></li></ol></li>
                                                <li value="14">If you are using a database other than the OpenEdge
							instance included with the installer, start your database. If you are
							using the OpenEdge database that comes with the installer, it should be
							running already. </li>
                                                <li value="15">Start the Progress  Application Server or Tomcat.<p>After
					you have upgraded your Private Cloud installation as described in, perform the
					following steps to re-index customer tenants:</p></li>
                                            </ol>
                                            <div class="section">
                                                <p><a name="Re-indexing_Customer_Tenants"></a>
                                                </p>
                                                <h2 class="sectiontitle">Re-indexing Customer Tenants</h2>
                                                <p>Follow these steps to re-index customer tenants:</p>
                                                <ol>
                                                    <li value="1">Log into the master server as an administrator.</li>
                                                    <li value="2">Navigate to the <span class="uicontrol">System Console</span>.</li>
                                                    <li value="3">From the <span class="uicontrol">System</span> tab menu, select <span class="uicontrol">Reindex</span>.</li>
                                                    <li value="4">On the <span class="uicontrol">Reindex</span> page, select the
					appropriate scope: <ul><li>Master zone</li><li>All customer tenants</li><li>Selected customer tenants</li></ul><p>You can select the master zone and all or selected tenants.
						<span class="mc-variable IB.CompanyName variable">Infinite Blue</span> strongly recommends re-indexing the master zone and all customers,
						but re-indexing customer tenants one or a few at a time can minimize
						performance impact.</p></li>
                                                </ol>
                                                <p>Confirm that indexing has occurred by doing the following:</p>
                                                <ol>
                                                    <li value="1">Navigate to <span class="uicontrol">Setup Home</span>.</li>
                                                    <li value="2">In the <span class="uicontrol">Administration</span> section, click <span class="uicontrol">Global Text
				Search</span>.</li>
                                                    <li value="3">Click <span class="uicontrol">View Search Logs</span>.</li>
                                                </ol>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel">
                                        <div class="right-align"><a class="footer1" href="https://www.linkedin.com/company/infiniteblue/" target="_blank"><img src="https://img.icons8.com/ios-filled/25/0572ed/linkedin-2--v1.png" alt="Linkedin" /></a><a class="footer1" href="https://twitter.com/InfiniteBlueHQ" target="_blank"><img src="https://img.icons8.com/ios-filled/25/0572ed/twitter.png" alt="Twitter" /></a><a class="footer1last" href="https://www.youtube.com/channel/UCRa_FE0f3k9KJrNJyAT39Hg/featured" target="_blank"><img src="https://img.icons8.com/ios-glyphs/25/0572ed/youtube-play.png" alt="YouTube" /></a>
                                        </div>
                                        <div class="right-align-2"><a class="footer2" href="https://www.infiniteblue.com" target="_blank">Copyright Â© 2023 Infinite Blue. All Rights Reserved.</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>