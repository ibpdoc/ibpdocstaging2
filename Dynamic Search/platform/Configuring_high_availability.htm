<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="concept _Skins_Side_Nav_2023_feb" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-toc-path="Advanced setup and administration|Installing and administering Private Cloud|Multi-server environments" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Expires" content="0" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" /><title>Configuring high availability</title>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/ib_platform.css" rel="stylesheet" type="text/css" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" />
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-164223934-1">
        </script>
        <script>/* <![CDATA[ */
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'UA-164223934-1');
	/* ]]> */</script>
        <script src="../Resources/Scripts/dynamic-search.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" role="navigation" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-left is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div>
                        <nav class="title-bar tab-bar" role="banner" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Welcome.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="4" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div style=" text-align: right; color:white; font-size: 9pt; background:#001649 ; margin-bottom: 15px; padding: 4px 12px; ">Documentation Version 
			<select id="versionSelect"><option value="v6.7.1">6.7.1</option><option value="v6.7.0">6.7.0</option><option value="v6.6.1">6.6.1</option><option value="v6.6">6.6</option></select><script>/* <![CDATA[ */
				const select = document.querySelector('#versionSelect');
				select.addEventListener('change', function() {
				const selectedVersion = this.value;
				const currentUrl = window.location.href;
				const newUrl = currentUrl.replace(/\/v\d+(\.\d+(\.\d+)?)?\//, `/${selectedVersion}/`);
				window.location.href = newUrl;
				});
		/* ]]> */</script></div>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <div class="home-container">
                                        <div class="topic-body" role="main" id="mc-main-content">
                                            <h1 class="concepttitle">Configuring high availability</h1>
                                            <p>Platform monitors each machine on which the components are running. Each
			machine sends a heartbeat as configured in the <code>cluster-config.xml</code> file. All the nodes handle requests in a round-robin
			fashion. However, in case of a failover, the remaining nodes in the group continue to
			handle the requests ensuring that there is no disruption to the requests and Platform
			sends an email to the administrator. Once the failover issue is fixed, the node is up
			and running and handles requests as usual. </p>
                                            <p>The diagram below shows a sample architecture for high availability in
				Platform:<div class="fig"><p style="text-align: center;"><img alt="High Availability Architecture" src="jrg1505461909906.jpg" style="width: 620px;height: 445px;" /></p></div></p>
                                            <p>
                                                <ul>
                                                    <li><b>Load Balancing Layer:</b>
                                                        <p>ELB helps an IT team adjust capacity according to incoming
						application and network traffic. Users enable ELB within a single
						availability zone or across multiple availability zones to maintain
						consistent application performance. </p>
                                                        <p>ELB ensures
						that all Platform user requests are routed to the Nginx nodes in the Routing
						Layer. </p>
                                                    </li>
                                                    <li><b>Routing Layer:</b>
                                                        <p>The Routing Layer is responsible for routing all the requests to the
						Platform components in the Platform Production Space. It also serves static
						content.</p>
                                                    </li>
                                                    <li><b>Platform Production Space:</b>
                                                        <p>All the Platform components run in the Platform Production
						Space. For example, in the diagram above, each node in the the Master Group
						forms a cluster group. Each node contains a Master component. In addition,
						the Master Group may also comprise Router, REST and SOAP components. All
						system admin tasks are performed by the Master component. </p>
                                                        <p>Similarly,each node in the ProdGroup also forms a cluster
						group. Each of these nodes contains a Prod component. The ProdGroup is
						responsible for handling application development and all end-user
						interactions. The Search &amp; StorageGroup comprises the search and storage
						components to handle all search and storage related activities.</p>
                                                        <div class="note"><b>Note: </b>
                                                            <p><span class="mc-variable IB.CompanyName variable">Infinite Blue</span> recommends that you install your Router, REST,
							and SOAP servers on a single computer as it results in faster REST API
							and SOAP API execution.</p>
                                                        </div>
                                                    </li>
                                                    <li><b>Data Layer:</b>
                                                        <p>This
						layer comprises the entire Platform system data and tenant data. </p>
                                                    </li>
                                                    <li><b>Platform System Console:</b>
                                                        <p>The Platform System Console provides an overview of system
						components, system health, logs and performs administrative activities. See <a href="System_Tab_Interface.htm">System Tab Interface </a>for
					details.</p>
                                                    </li>
                                                    <li><b>AWS Console:</b> Typically, a DevOps
					member uses the AWS Console to monitor the cluster set-up.</li>
                                                </ul>
                                            </p>
                                            <p>In the diagram, each node is a host in its group. <ul><li><span class="uicontrol">Master++Group</span> — Runs
					the Master server, Router server, REST server, and SOAP server</li><li><span class="uicontrol">ProdGroup</span> — Runs the
					Production server. Note that if you have multiple Production servers, each must
					run on a different machine.</li><li><span class="uicontrol">Search&amp;StorageGroup</span>
					— Runs the Storage server and the Search server</li><li><span class="uicontrol">NGINX-1, NGINX- 2,
						NGINX...n</span> — A high availability NGINX cluster based routing
					layer. </li></ul></p>
                                            <div class="note"><b>Note: </b>High availability configurations are only supported in the current
			release for Platform running on Tomcat. See <a href="Using_your_own_instance_of_Tomcat.htm" class="MCXref xref">Using your own instance of Tomcat </a> for more information.</div>
                                            <p><b>Understanding <code>cluster-config.xml</code>, <code>master-config.xml</code> and <code>prod-config.xml</code> files in case of a Platform multi-server setup and
				High availability configurations.</b>
                                                <ul>
                                                    <li><code>node-config.json</code>
                                                        <ul>
                                                            <li>It is present in every instance which is a part of the
							cluster.</li>
                                                            <li>In <code>node-config.json</code>, <ul><li><code>ServerURL</code>
									value points to the current node IP address.</li><li><code>Components</code>
									contains the entries of the existing war files in <code>webapps</code> folder. </li><li><code>masterDB</code>,
										<code>updateSharedProps</code>,
										<code>nodeProps</code>, <code>webProxies</code> and <code>databases</code> sections present in the
									Master vary based on the components running on the server.</li></ul></li>
                                                        </ul>
                                                    </li>
                                                    <li><code>cluster-config.xml</code>
                                                        <ul>
                                                            <li>It is present in every instance which is a part of the
							cluster.</li>
                                                            <li>It lists all the IPs of all instances that are part of
							the cluster regardless of its type (Master/Prod/Storage/etc).</li>
                                                            <li>This file’s content does not change across
							instances.</li>
                                                        </ul>
                                                    </li>
                                                    <li><code>master-cluster-config.xml</code>
                                                        <ul>
                                                            <li>It is present in every instance that has a Master war
							deployed in the cluster.</li>
                                                            <li>This represents an isolated Hazelcast cache only for
							the Master modules.</li>
                                                            <li>Only when you have a high availability setup, you need
							to have more than one IP mentioned in the IP list. Otherwise this will
							have the IP of the machine that this file is present on.</li>
                                                        </ul>
                                                    </li>
                                                    <li><code>prod-cluster-config.xml</code>
                                                        <ul>
                                                            <li>It is present in every instance that has a PRODx war
							deployed in the cluster.</li>
                                                            <li>The file name is constant as you can deploy only one
							prod in a single instance. So regardless of whether you have PROD1,
							PROD2 or PRODn deployed, the instance will have a <code>prod-cluster-config.xml</code>.</li>
                                                            <li><code>&lt;instance-name&gt;</code> should be exactly the name given for
							the prod component in the instance <code>(node-config.json &gt; components)</code>. </li>
                                                            <li>Only when you have a high availability setup, you need
							to have more than one IP mentioned in the IP list. Otherwise this will
							have the IP of the machine that this file is present on.</li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </p>
                                            <div class="note"><b>Note: </b>
                                                <ul>
                                                    <li>On a high availability or multi-server environment and while upgrading to
					Platform 5.4, ensure the cluster config XML files
						(<code>master-cluster-config.xml</code>,
						<code>prod-cluster-config.xml</code>, and
						<code>cluster-config.xml</code>) are modified by removing the below
					section from all the Tomcat machines.
						<pre>&lt;map name="rb-*-cache"&gt;
&lt;backup-count&gt;3&lt;/backup-count&gt;
&lt;/map&gt;</pre><p>Also,
						ensure the below <b>Set Parameter</b> section is removed from the
							<code>master-cluster-config.xml</code>.
						<pre>&lt;set name="rb-*-cache"&gt;
&lt;backup-count&gt;3&lt;/backup-count&gt;
&lt;/set&gt;</pre></p></li>
                                                </ul>
                                            </div>
                                            <div class="note"><b>Note: </b>
                                                <ul>
                                                    <li>
                                                        <p>In Platform 6.2, in the <code>cluster-config.xml</code>, <code>master-cluster-config.xml</code>, and <code>prod-cluster-config.xml</code> files of the <code>config</code> folder, the <code>&lt;group&gt;…&lt;/group&gt;</code>  node must be replaced by <code>&lt;cluster-name&gt;…&lt;/cluster-name&gt;</code>.</p>
                                                        <p>For instance, replace the following:</p><pre xml:space="preserve">&lt;group&gt;
    &lt;name&gt;rb_global&lt;/name&gt;
    &lt;password&gt;rb_global&lt;/password&gt;
&lt;/group&gt;</pre>
                                                        <p>With the following:</p><pre xml:space="preserve">&lt;cluster-name&gt;rb_global&lt;/cluster-name&gt;
</pre>
                                                    </li>
                                                    <li>
                                                        <p>In the <code>cluster-config.xml</code> file of the <code>config</code> folder, remove the following attribute from the <code>&lt;replicatedmap&gt;… &lt;/replicatedmap&gt;</code> node:</p><pre xml:space="preserve">&lt;replication-delay-millis&gt;0&lt;/replication-delay-millis&gt;</pre>
                                                    </li>
                                                </ul>
                                            </div>
                                            <p>To understand how high availability is configured in Platform, let's
			consider a multi-server environment as follows. <ul><li><b>Server 1</b> with IP: <code>172.21.63.26</code> containing <b>Master</b>, <b>Router</b>, <b>REST</b>,
						<b>SOAP</b> components.</li><li><b>Server 2</b> with IP: <code>172.16.114.24</code> containing <b>Prod</b> component.</li><li><b>Server 3</b> with IP: <code>172.16.81.100</code> containing <b>Search</b> and <b>Storage</b> components.<ul><li> In every instance, the <code>webapps</code> directory should have <code>config.war</code> along with the corresponding war files.</li></ul></li></ul>See <a href="Setting_up_Platform_manually.htm">Setting up
				Platform manually</a> to learn how to set the above environment. Before
			configuring high availability, you must ensure that the multi-server environment runs
			successfully. </p>
                                            <p><b>To configure high availability, perform the steps
				below</b>:<ol><li value="1">Replicate the multi-server set up to ensure each node can be
					configured for high availability. That is, the multi-server environment should
					now have the following setup. <ul><li><b>Server 1</b> and <b>Server 4</b> with IPs: <code>172.21.63.26</code>;<code>172.21.81.26</code> containing <b>Master</b>,
								<b>Router</b>, <b>REST</b>, <b>SOAP</b> components </li><li><b>Server 2</b> and <b>Server 5</b> with IPs: <code>172.16.114.24</code>;<code>172.18.110.24</code> containing <b>Prod</b>
							component.</li><li><b>Server 3</b> and <b>Server 6</b> with IPs: <code>172.16.81.100</code>;<code>172.16.11.24</code> containing <b>Search</b>
							and <b>Storage</b> components.<ul><li> In every instance, the <code>webapps</code> directory should have
										<code>config.war</code> along with the
									corresponding war files.</li></ul></li></ul>See <a href="Configuring_multiple_instances_of_Platform_components.htm">Configure multiple instances of Platform components</a> for information
					about configuring components on multiple nodes.</li><li value="2">Update the <code>cluster-config.xml</code> to add IP addresses or host names of all the
					nodes/machines (which are discoverable by other machines) separated by a
					semi-colon. This file should be part of every node/machine in the
					cluster.<pre>&lt;members&gt;Server1;Server2;Server3;Server4;Server5;Server6&lt;/members&gt; </pre>See
						<a target="_blank" href="http://docs.hazelcast.org/docs/latest-development/manual/html/System_Properties.html">http://docs.hazelcast.org/docs/latest-development/manual/html/System_Properties.html</a>
					for more information on hazelcast system properties. </li><li value="3">Update <code>master-cluster-config.xml</code> add IP addresses or host names of all
					the master machines.<p><code>&lt;members&gt;master1;master2&lt;/members&gt;</code></p></li><li value="4">Update <code>prod-cluster-config.xml</code> add IP addresses or host names of all the
					prod machines. <p><code>
							&lt;members&gt;prod1a;prod1b&lt;/members&gt;</code></p><div class="note"><b>Note: </b><ul><li>You can extend your multi-server environment to
								have more prod servers and configure high availability by
								replicating the servers and updating the <code>prod-cluster-config.xml</code> to include the new prod nodes. </li><li>For example, let's say you added a third prod
								server. The <code>prod-cluster-config.xml</code>, in all prod machines in the
								group, must be updated to include the IP address or the host name of
								the third prod server. <p><code>&lt;members&gt;prod1a;prod1b;prod1c&lt;/members&gt;</code></p></li><li><p>If you want to create a new prod group, <code>prod 2</code>, you must configure a new
									node with <code>prod2.war</code> and
									update <code>node-config.json and
										prod-cluster-config.xml</code> files accordingly. Follow
									the above step to add more prod servers to <code>prod2</code> group.</p></li><li>When you add new Storage and Search servers, you
								must including the server IP addresses in the <code>cluster-config.xml</code> to configure them
								for high availability.</li></ul></div></li><li value="5">Update <code>node-config.json</code> in
					all the instances with the corresponding entries.<p>For
						example, Server 3 <code>node-config.json</code>
						contains the entries of Search and Storage as shown
						below.<pre>{
	"serverUrl": "http://172.16.81.100:8080",
	"components": [ {
		"name": "STORAGE",
		"type": "STORAGE",
		"internalRoot": "/storage",
		"externalRoot": "/storage"
	},
	{
		"name": "SEARCH",
		"type": "SEARCH",
		"internalRoot": "/search",
		"externalRoot": "/search"
	}],
	"nodeProps": {
		"FontDirs": "",
		"StorageDir" : "X:/Storage",
		"LogDir" : "Y:/Logs",
		"IndexDir": "",
		"AnalyticsLogDir": ""
	}
}
</pre></p></li><li value="6">Install NGINX. See <a href="Installing_NGINX.htm">Installing NGINX</a> for
					more information.</li><li value="7">Configure NGINX. See <a href="Configuring_NGINX.htm">Configuring NGINX</a> for
					more information.</li><li value="8">Copy the <code>private.key</code> file
					from <span class="filepath">rollbase\config\security</span> folder and
					paste it into the <span class="filepath">nginx\conf</span> folder.</li><li value="9"><a name="webproxies"></a>Update node-config.json with the NGINX webproxies information.
					This enables NGINX for Platform.<p><code>"webProxies" : [ { "url": "http://NGINXServerIPAddress:9080" }
							]</code></p><div class="note"><b>Note: </b>If you want to configure an
						existing multi-server environment for high availability, you can add an
						NGINX server by logging into Platform, navigating to <span class="menucascade"><span class="uicontrol">System Console &gt; System &gt; Components
								&gt; NGIX Server</span></span>, and entering the NGINX webproxies details. </div></li><li value="10">Start the Platform instance.<div class="note"><b>Note: </b>To verify
						that high availability is configured, in the <span class="uicontrol">System Console &gt; System &gt; Components</span>, the Host Name
						column should display the nodes of the cluster group.</div><img alt="High Availability Architecture" src="oic1522050751878.jpg" style="width: 100%;" /></li></ol></p>
                                            <p>Once you have your environment up and running, you can use the <code>getTopology</code> REST API to get the details of the active
			logging Storage server, active Search server, and prod servers (is dedicated or not) and
			so on. See <a href="getTopology.htm">getTopology</a> for more information.<div class="note"><b>Note: </b>When you have more
				than one Search servers configured for high availability, all servers are capable of
				performing GET functions. However, only a single Search server, in a Search group,
				will be active to perform WRITE functions. Similarly, when you have more than one
				Storage servers configured for high availability, all servers are capable of
				performing all storage functions. However, only a single Storage server, in a
				Storage group, will be a active logger. </div></p>
                                            <p>While configuring the High Availability environment, use <b>Network File System</b> to ensure that entire data is available for every component. This configuration can be done in <code>node-config.json</code> for every instance.</p>
                                            <div class="section">
                                                <h2 class="sectiontitle">Example</h2>
                                                <p>For the above sample architecture, the following are the changes
				made to configure high availability. </p>
                                                <p><code>cluster-config.xml</code>
                                                </p>
                                                <p><pre>&lt;members&gt;172.21.63.26;172.16.114.24;172.16.81.100;172.21.81.26;172.18.110.24;172.16.11.24&lt;/members&gt; </pre>
                                                </p>
                                                <p><code>master-cluster-config.xml</code>
                                                </p>
                                                <p><pre>&lt;members&gt;172.21.63.26;172.21.81.26&lt;/members&gt;</pre>
                                                </p>
                                                <p><code>prod-cluster-config.xml</code>
                                                </p>
                                                <p><pre>&lt;members&gt;172.16.114.24;172.18.110.24&lt;/members&gt;</pre>
                                                </p>
                                                <p><code>node-config.json</code>
                                                </p>
                                                <p><pre>"webProxies" : [ { "url": "http://172.20.65.26:9080" } ]</pre>
                                                </p>
                                            </div>
                                            <div class="section">
                                                <h2 class="sectiontitle">Troubleshooting</h2>As explained
			earlier in this topic, high availability configurations are made manually in all nodes
			and as a result of this, there might be some replication issues. You must ensure the
			following checks are made when servers do not run as expected.<ul><li><code>node-config.json</code>, <code>cluster-config.xml</code>, <code>master-cluster-config.xml</code>, and <code>prod-cluster-config.xml</code> are updated as per your architecture.</li><li><code>node-config.json</code> is
					identical in all nodes that are a part of prod, Search, or Storage groups. </li><li>The hazlecast port is enabled to accept requests. Refer the
						<code>&lt;port
						auto-increment="false"&gt;5701&lt;/port&gt;</code> tag in <code>cluster-config.xml</code>.</li></ul></div>
                                        </div>
                                    </div>
                                    <div class="panel">
                                        <div class="right-align"><a class="footer1" href="https://www.linkedin.com/company/infiniteblue/" target="_blank"><img src="https://img.icons8.com/ios-filled/25/0572ed/linkedin-2--v1.png" alt="Linkedin" /></a><a class="footer1" href="https://twitter.com/InfiniteBlueHQ" target="_blank"><img src="https://img.icons8.com/ios-filled/25/0572ed/twitter.png" alt="Twitter" /></a><a class="footer1last" href="https://www.youtube.com/channel/UCRa_FE0f3k9KJrNJyAT39Hg/featured" target="_blank"><img src="https://img.icons8.com/ios-glyphs/25/0572ed/youtube-play.png" alt="YouTube" /></a>
                                        </div>
                                        <div class="right-align-2"><a class="footer2" href="https://www.infiniteblue.com" target="_blank">Copyright © 2023 Infinite Blue. All Rights Reserved.</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>